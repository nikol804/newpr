# üê≥ MatchMaker - –ó–∞–ø—É—Å–∫ –≤ Docker

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### Windows:
```bash
.\docker-start.bat
```

### Linux/Mac:
```bash
chmod +x docker-start.sh
./docker-start.sh
```

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫:
```bash
docker-compose up --build
```

## üì± –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä**: http://localhost:8000
2. **–¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**:
   - `test` / `123456`
   - `kola` / `123456`

## üîß –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ –≤ Docker

- **Django** —Å Daphne —Å–µ—Ä–≤–µ—Ä–æ–º (WebSocket + HTTP)
- **Redis** –¥–ª—è real-time —á–∞—Ç–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏** –ë–î
- **–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö**
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ nginx** –¥–ª—è production (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üåü –§—É–Ω–∫—Ü–∏–∏ real-time —á–∞—Ç–∞

### –¢—Ä–æ–π–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
1. **üü¢ WebSocket** - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
2. **üî• SSE (Server-Sent Events)** - real-time –ø–æ—Ç–æ–∫–∏  
3. **‚ö° HTTP Polling** - –±—ã—Å—Ç—Ä—ã–π fallback (500ms)

### –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ —á–∞—Ç–∞:
- **üü¢ "–û–Ω–ª–∞–π–Ω"** = WebSocket –∞–∫—Ç–∏–≤–µ–Ω
- **üî• "Real-time"** = SSE –ø–æ–¥–∫–ª—é—á–µ–Ω
- **üü° "HTTP —Ä–µ–∂–∏–º"** = –ë—ã—Å—Ç—Ä—ã–π polling

## üõ†Ô∏è –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
```bash
docker-compose logs -f web
docker-compose logs -f redis
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É:
```bash
docker exec -it matchmaker_web bash
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞:
```bash
docker-compose restart web
docker-compose restart redis
```

## üî• Production –∑–∞–ø—É—Å–∫ —Å Nginx

```bash
docker-compose --profile production up
```

–≠—Ç–æ –¥–æ–±–∞–≤–∏—Ç nginx reverse proxy –Ω–∞ –ø–æ—Ä—Ç—É 80.

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ WebSocket –≤ –∫–æ–Ω—Å–æ–ª–∏

–û—Ç–∫—Ä–æ–π—Ç–µ **Developer Tools (F12)** ‚Üí **Console**:

**–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º WebSocket:**
```
üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è real-time —á–∞—Ç–∞...
üîó WebSocket connect: chat_id=1, user=test
‚úÖ WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω - —Ä–µ–∞–ª—å–Ω—ã–π —á–∞—Ç –∞–∫—Ç–∏–≤–µ–Ω!
```

**–ü—Ä–∏ fallback –Ω–∞ SSE:**
```
üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è real-time —á–∞—Ç–∞...
‚ùå WebSocket –æ—à–∏–±–∫–∞: ...
üîó –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è SSE...
‚úÖ SSE –ø–æ–¥–∫–ª—é—á–µ–Ω - —Ä–µ–∞–ª—å–Ω—ã–π —á–∞—Ç –∞–∫—Ç–∏–≤–µ–Ω!
```

## üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
docker-compose down
```

–ò–ª–∏ –Ω–∞–∂–º–∏—Ç–µ **Ctrl+C** –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.

---

## üí° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Docker –≤–µ—Ä—Å–∏–∏

‚úÖ **–ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞** - –Ω–∏–∫–∞–∫–∏—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π Redis** - —Å—Ä–∞–∑—É –≥–æ—Ç–æ–≤ –¥–ª—è WebSocket  
‚úÖ **–ï–¥–∏–Ω—ã–π –∑–∞–ø—É—Å–∫** - –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—Å–µ–≥–æ  
‚úÖ **Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å** - nginx –∫–æ–Ω—Ñ–∏–≥ –≤–∫–ª—é—á–µ–Ω  
‚úÖ **Persistent –¥–∞–Ω–Ω—ã–µ** - Redis –∏ –º–µ–¥–∏–∞ —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
