# MatchMaker - Приложение для поиска собеседников

## Описание

MatchMaker - это веб-приложение на Django для поиска и общения с интересными собеседниками на основе общих интересов и психологического профиля.

## Основные функции

- **Регистрация/Авторизация** с психологическим тестом
- **Личный кабинет** с возможностью редактирования интересов и теста
- **Система поиска** собеседников по алгоритму матчинга
- **Чат в реальном времени** через WebSocket

## Требования

- Python 3.8+
- Redis (для WebSocket чатов)
- SQLite (база данных)

## Установка

### 1. Клонирование репозитория

```bash
git clone <repository-url>
cd nerr
```

### 2. Создание виртуального окружения

```bash
python -m venv venv
# Windows
venv\Scripts\activate
# Linux/Mac
source venv/bin/activate
```

### 3. Установка зависимостей

```bash
pip install -r requirements.txt
```

### 4. Установка Redis (для чата)

#### Windows:
Скачайте Redis с https://github.com/microsoftarchive/redis/releases
Запустите redis-server.exe

#### Linux/Mac:
```bash
# Ubuntu/Debian
sudo apt-get install redis-server

# Mac
brew install redis
```

### 5. Миграции базы данных

```bash
python manage.py makemigrations
python manage.py migrate
```

### 6. Загрузка начальных данных (интересы)

```bash
python manage.py loaddata main/fixtures/initial_data.json
```

### 7. Создание суперпользователя (опционально)

```bash
python manage.py createsuperuser
```

## Запуск

### 1. Запустите Redis сервер

```bash
redis-server
```

### 2. Запустите Django сервер

```bash
python manage.py runserver
```

### 3. Откройте браузер

Перейдите по адресу: http://127.0.0.1:8000

## Структура проекта

```
nerr/
├── matchmaker/          # Настройки проекта
│   ├── settings.py      # Основные настройки
│   ├── urls.py          # URL маршруты
│   ├── asgi.py          # ASGI конфигурация (WebSocket)
│   └── wsgi.py          # WSGI конфигурация
├── main/                # Основное приложение
│   ├── models.py        # Модели данных
│   ├── views.py         # Представления
│   ├── forms.py         # Формы
│   ├── urls.py          # URL маршруты приложения
│   ├── consumers.py     # WebSocket обработчики
│   ├── routing.py       # WebSocket маршруты
│   └── fixtures/        # Начальные данные
├── templates/           # HTML шаблоны
│   ├── base.html        # Базовый шаблон
│   └── main/            # Шаблоны приложения
│       ├── auth.html    # Страница входа/регистрации
│       ├── profile.html # Личный кабинет
│       ├── search.html  # Поиск собеседника
│       └── chat.html    # Страница чата
├── requirements.txt     # Зависимости Python
└── manage.py            # Утилита управления Django
```

## Алгоритм поиска собеседников

Система подбирает собеседников по следующим критериям:
- Минимум 3 общих интереса
- Разница в баллах психологического теста не более 10
- Оба пользователя должны быть в статусе поиска

## Психологический тест

Тест состоит из 5 вопросов, каждый оценивается от 1 до 5 баллов:
1. Общительность (интроверт/экстраверт)
2. Открытость новому опыту
3. Эмоциональность
4. Организованность
5. Доброжелательность

Общий балл: от 5 до 25 баллов

## Технологии

- **Backend**: Django 4.2
- **WebSocket**: Django Channels
- **База данных**: SQLite
- **Frontend**: Bootstrap 5, jQuery
- **Иконки**: Font Awesome
- **Анимации**: Animate.css

## Безопасность

- CSRF защита для всех форм
- Аутентификация пользователей
- Валидация данных на сервере
- Экранирование HTML в чате

## Администрирование

Панель администратора доступна по адресу: http://127.0.0.1:8000/admin/

Функции админ-панели:
- Управление пользователями
- Управление интересами
- Просмотр чатов и сообщений
- Мониторинг активности

## Возможные проблемы

### Redis не запускается
Убедитесь, что порт 6379 не занят другим процессом

### WebSocket не подключается
1. Проверьте, что Redis запущен
2. Убедитесь, что используете http:// а не https:// для локальной разработки

### Ошибки миграции
Удалите db.sqlite3 и папку migrations, затем повторите миграции

## Лицензия

MIT License

## Контакты

Для вопросов и предложений создавайте issues в репозитории.
